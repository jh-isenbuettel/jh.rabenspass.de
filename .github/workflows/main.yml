
name: PR_creator


on:
  push:
    branches: 
      - staging
  pull_request:
    branches: 
      - staging

  workflow_dispatch:


jobs:
## create a pull request from staging to main everytime someone pushes to staging
  create_pr:
    name: create_pr
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: create_pr
        uses: peter-evans/create-pull-request@v3.10.0
        with:
          title: "PR from staging to main"
          head: staging
          base: main
          body: "This is a pull request from staging to main"
          labels:
            autogenerated
          draft: false
          maintainer_can_modify: true
          assignees:
            "{{ github.actor }}"
          reviewers:
            td00
            lavalaempchen
          milestone: "{{ github.pr.head.ref }}"
          repo: jh-isenbuettel/jh.rabenspass.de
          token: "{{ github.token }}"